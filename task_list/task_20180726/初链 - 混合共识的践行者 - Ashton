> 最近不断听到有朋友提到初链，这两天就抽时间看了一下初链的白皮书。目前对其理解还不算多么深入，但初看之下，初链确实有其却别与其它公链的典型特点：混合共识。

**什么是混合共识**
简言之，混合共识就是将多种共识机制结合在一起，充分发挥各个共识机制的优势，来达成新的设计目标。混合共识并不是初链的独创，之前就有公链将 POW 和 POS 两种共识结合起来，加上持币量和持币时间这个变量，来降低具有超级算力的矿池对整个网络的影响。
Rafael Pass 和 Elaine Shi 两位分布式领域的大神在论文《[混合共识：在无权限网络模型中的有效共识](https://eprint.iacr.org/2016/917.pdf)》中第一次将比特币的 POW 共识和联盟链经常使用的 PBFT 共识结合起来，证明实现一个完全去中心化并具有一个较高性能的网络是可行的。目前两个人已经雄心勃勃的组建团队构建了搭建了基于此理论的混合共识公链[Thunder](https://www.thundercore.com/)，有兴趣的可以到官网具体了解一下。
对区块链技术有所了解的朋友都会知道，区块链网络存在一个不可能三角，即去中心化，安全，扩展性。这里的扩展性可以简单理解为每秒可处理的交易数。任何一个单一共识，顶多只能满足三者之中的两者，牺牲或弱化其中一角。比特币是非常典型的偏向去中心化和安全，以太坊也是从偏向去中心化和安全开始，EOS 的 DPOS 共识为了实现更高的可扩展性，就弱化了去中心化，通过去中心化治理的方式，来选出 21 个超级节点来进行交易处理，但因人治痕迹比较严重而经常被人垢弊。
Rafael Pass 和 Elaine Shi 两位大神在论文中提到的混合共识，其本质也是为了达到较高的扩展性，而在去中心化的实现方式上进行改进，将整个区块链分为快链和慢链。快链基于 PBFT 共识，具有较高的交易确认速度，但由于 PBFT 节点通信机制的限制，只能在少数授信节点之间组成的网络才有比较好的效果，但这就有了中心化的痕迹，如何信任 PBFT 节点成为将其应用与公链的核心问题。这里的慢链基于 POW 共识，其主要作用之一便是基于公开算法自动选出可信的 PBFT 节点。通过去中心化的 POW 选出可信节点，由这些可信节点组成一个PBFT 网络去高效的完成交易，是不是在很大程度上已经兼顾了去中心化，安全和可扩展性呢？

**初链的共识机制**
初链共识机制的核心思想，其实就是前面提到的 POW + PBFT 混合共识。更近一步，初链的 POW 并没有直接采用比特币的中本聪共识机制的实现，而是采用了还是前面两位大神提出的《[水果链](https://eprint.iacr.org/2016/917.pdf)》共识。在这种共识机制下，每个加入网络的节点都可以比较容易的挖出水果，每个水果都有一定的保质期，拥有保质期内水果的节点即使没有挖到矿，也可以享受到其它节点的挖矿收益分配。这就相当于整条链从启动开始就由每个节点共同形成了一个矿池，大家共享挖矿收益，从而降低了人为大矿池垄断算力的动机，使整个网络更加的去中心化。更多的细节可以参考《[初链黄皮书](https://www.truechain.pro/paper.pdf)》

**初链的技术架构**
如下图所示，初链的技术架构自下而上共分为四层：
一是底层服务，包含P2P 网络、LevelDB 数据库、密码学算法、分片优化；
二是核心层，包含区块链模块、TRUE 模块、共识算法模块；
三是 API 接口层，包括 TVM 虚拟机、gRPC 通讯协议；
四是智能合约层，有计划支持各种主流语言。
![初链技术架构](https://upload-images.jianshu.io/upload_images/1035930-97cab3a82fc0246d.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)
其实目前各个主链平台在技术逻辑架构上并无特别大的区别，最主要的区别基本都集中在共识算法这一部分。谁能通过对共识机制的优化，扫除当前区块链大规模应用在扩展性方面的障碍，无疑谁就会更胜一筹。

**初链的产品矩阵与代码**
下面是初链白皮书中规划的产品矩阵，
![初链产品矩阵](https://upload-images.jianshu.io/upload_images/1035930-44aaeb97876f2fab.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)
初链轻钱包为节点提供接收、发送、管理全部初链数字资产等服务。
Stellar 为商用 Dapp 开发者提供便捷、稳定、高效率的智
能合约开发平台，开发者可以对合约进行全生命周期的管理。
Dapp Warehouse 为面向用户的 Dapp 下载平台。
TrueScan 作为初链的区块链浏览器，为节点提供合约监控、交易统计、账本查询、隐私保护等服务。

从初链的[代码仓库](https://github.com/truechain)可以看出，这里提到的很多产品都在同步进行，代码每个子项目基本在一周内都有更新。
据我的了解，初链还在全球范围内大量招募全兼职开发人员加入到代码贡献与开发中来。

**总结**
初链作为国内第一个混合共识的实践者，其实现基础有比较强的理论根基，落地按说也只是时间问题，将来大概率会成为公链生态中不可或缺的一份子。
