# True黄皮书让我来解读
## True黄皮书介绍
True黄皮书向我们大家介绍了初链协商一致协议的初步设计和其他技术细节。True的共识设计具有一致性、活跃度、交易终结性和安全保障，这与混合共识是一致的。黄皮书中还讨论了轮值委员会成员的频率和物理时间戳限制等优化问题。接着提出了在以太坊之上建立一个新的虚拟机的想法，它在无权限的设置中增加了基于许可链的交易处理功能。True还使用数据共享和投机交易的思想，评估混合云基础设施中智能合约的运行情况，使用现有的志愿计算协议来实现我们引入的补偿基础结构。最后提出了以下几点改进方向：
* 改进所有节点的时间戳同步，而不需要中心化的NTP服务器。
* 喜欢奖励基础设施里的激励技术，这样重度投资基础设施的投资人不会遭遇“被忽视”，“亏本”的问题。
* 支持副本创建的分片技术，尽量减少被BFT会员会拒绝的交易集。
* 添加零知识证明以增强隐私。
* EVM、TVM和Linux容器技术的混合基础设施。
* 改进虚拟机规范中的二进制数据编码方法，交易签名，收费表等章节。

## 个人解读
接下来是我个人对True黄皮书的一些个人理解
TrueChain采用了FruitChain，而不是慢链（snailchain）中的Nakamoto（传统链)这是为什么呢？

### FruitChain 和Nakamoto 分析介绍
FruitChain水果链最大的特点就是公平，不会出现比特币那样的缺点，比如，自私挖矿，联合挖矿，以及交易费不稳定。
比特币的自私挖矿

* 当坏人挖到矿，故意不把矿接到原来的矿链上，而是通过这个矿，继续往下挖，试图挖到更长的链
* 诚实的挖矿者，挖到矿接到原本的矿链上
* 坏人将较长的矿链接到原本的框链上去，使诚实的挖框者努力白费。

比特币的联合挖矿
* 个人挖矿难道高
* 大家各自奉献一部分计算能力挖矿，挖到后根据贡献比例均分报酬，这样会影响公平
* 51%攻击
* 比特币的交易费不稳定
* 矿共会先将高的交易费的资料收入block中，但是每笔交易的交易费用都不一样，一致交易费不稳定。

正因为如此，FruitChain解决了比特币将会遇到的一些问题，所以TrueChain选用了水果链

### 智能合约
智能合约可以简单理解为，是一种自动化执行的交易。由交易双方事先约定好规则后，智能合约会自动执行交易，无法被更改或影响。
举一个简单的例子：

甲、乙二人打赌明天是否下雨：如果下雨，甲方赢；如果不下雨，乙方赢。然后甲乙二人将钱放进了一个智能合约控制的账户里。第二天结果出来以后，智能合约就可以根据指令，自动判断输赢，并进行转账。
整个交易的过程无法被任何人干预，是一个高效、透明的执行过程，完全不需要律师、法官、公正等第三方的介入。

虽然智能合约是一个自动执行的程序，但必须在满足事先约定的条件后才能触发执行。所以它更像是一个系统的参与者。

我们也可以把它想象成一个绝对可信的人，负责临时保管相关资产，并且严格按照事先商定好的规则执行操作。

智能合约系统的核心在于：让一组复杂的、带有触发条件的数字化承诺能够按照参与者的意志，正确执行。

### 为什么要使用虚拟机,而不是容器？
一种区块链架构来自超级账本,但超级账本是针对私有链及联盟链开发的。如果希望将其架构应用到公链上,则需要解决链码的问题。尽管一个链码可以部署在一个容器中,但这对于公链来说显然是无法规模化的。一个同时运行几千个智能合约的公链意味着需要几千个容器,但数千个容器显然是不现实的,所以只能选择限制同时运行的智能合约数量。

现如今容器容量还不够成熟，远远达不到要求。而且人们宁愿水平扩大容器规模也不愿意垂直扩大容器容量,因为后者极大程度上提升了设计的复杂度。也没有一个适应全部集群规模结构的规则,因为它完全取决于负载量,而且在去中心化时更是如此。
　　
但是如果把容器运用到无服务器结构中，当多于2000个智能合约在线和并发请求时,,仍会面临同样的困境。途径就是给并发请求加上节流限制,但这将严重影响TPS。

所以综上所述初链选择使用虚拟机而不是容器。

## 总结
混合共识是大势所趋，初链在混合共识领域上给我们后来人指引了方向，相信未来混合共识机制会更加高效、智能、和完善。此外区块链技术要与实体商业对接，在技术和规则上还需要进一步开拓，区块链解决的所谓“不信任”问题其对象也只局限于区块链上的数据。因此如果区块链要与实体业务对接，还需要进一步推动实体与数据之间跨域的“游戏规则”的建立。

    
    







