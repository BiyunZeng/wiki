
**简介**：我是成都的小运维一枚  
&#8195;&#8195;前段时间通过一些线下活动了解到了初链，顺带看了下官网，不小心点击了下官网的白皮书以及黄皮书；发现里面介绍了一些区块链的最新很实用的知识，结合自己的工作经历，有些小心得，留以引玉。

&#8195;&#8195;区块链技术从诞生到现在，已经是3.0了，每个版本侧重点是什么呢？
- 区块链1.0 -- 应用于数字货币的应用程序
- 区块链2.0 -- 开放式分散软件平台
- 区块链3.0 -- 提升区块链收敛效率以及提升安全  

&#8195;&#8195;每一个迭代都代表着进步以及解决方案的更新；初链恰好处在3.0 的时代，在 收敛效率和安全性上有很大的突破，对我而言，在如下几个方面的解决方案让我感触颇多；

---
**question 1** ：如何做到全网快速收敛的  
&#8195;&#8195;收敛这个词我在网络中看得最多，了解过动态路由协议（ripv2/ospf/bgp/igrp）等的同学都知道；大型网络在设计之初就考虑到网络在运行一段时间之后如何自适应新的网络拓扑，这就需要了解每个节点所处的状态以及整体的网络结构，然后每个节点自动按照新的网络拓扑生成自己的路由规则；当网络变化被每个节点学习到并稳定下来后，这个过程就叫作收敛。  
&#8195;&#8195;针对区块链来说，运行在公链上所有的人节点都了解到一个事件也叫作收敛；但是之前的bitcoin 每10分钟一次的收敛效率在现实生活中有诸多的不便。那为啥要10分钟呢，这就是为全网的数据一致性收敛考虑的；收敛得考虑很多大环境问题；比如公链每个节点间得网络稳定以及带宽差异，节点多了之后的收敛通信量，存在的攻击成本等等；如果贸然把10分钟往下降，会给平台带来极大的不稳定性以及攻击风险。  
&#8195;&#8195;那为什么初链能解决这个问题呢？其实是算法的更新，PBFT VS POW。bitcoin 用的是pow工作量证明机制，这种机制相当于是在全网找一个最先了解某个变化的人然后通知其它人从他同步最新消息，为何不直接指定一个或者几个人来处理消息，然后其它人从他们那儿同步结果呢，这样不是更省事儿么；这就是pbft思想。由一个或者多个节点分别处理智能合约内容，然后其它人分别从他们那儿同步结果。效率方面，不用在全局选一个唯一节点来处理交易问题，不必只能从一个节点同步消息，效率根本就没可比性。 

**question 2** ：那为啥不直接用PBFT，而需要混合共识机制呢  
&#8195;&#8195;何为混合共识机制呢？即PBFT + fPOW。如 question 1 所说，PBFT 能解决快速收敛问题，但是PBFT 是运行在私链或者联盟链的算法。因为公链中的人都没经过安全许可，都不能排除有攻击可能，而PBFT 需要节点是受信的，这样经过选举出来的共识才是正确的。相反，POW 算法中 能最快收敛的节点会被选举作为正确结果同步源，而这个节点恰好是计算整个区块中最长链的最新块，天然带了安全属性。  
&#8195;&#8195;那为啥是FPOW，而不是pow呢；其实主要是pow中天然会有自私挖矿攻击，而在挖出的块中加入保质期能一定程度降低这种攻击行为。所以是 PBFT + FPOW。有同学就会问，那我这两种结合后会不会影响整个链的同步？其实不会。fpow只是选出较忠实能代表大众心声的议员到PBFT中，仅仅影响选举，整个链的处理效率还是由PBFT决定。

&#8195;&#8195;这儿的混合机制让我想到了关系型数据库里面的范式设计。DB 为了去重，设计了范式，把公共的内容单独踢出来成表，然后其它有关联的数据通过主键或者外键进行关联查询即可。但实际使用中发现这样的DB查询效率非常低以及给DB维护者带来较大的工作负担，因为每个业务场景都需要很多的连表查询才能搞定。后来人们想到了空间换时间的思路。在设计数据库的时候不必须严格按照范式来做，相反，会根据业务需要把某些数据同步到不同的表里来较低表关连数的问题，在实际投入成本和稳定性上，比严格按照范式设计优化了很多。所以，我很佩服能把pbft 和fpow 做成混合共识机制的童鞋。

**question 3** ：数据量越来越大，如何存储呢
&#8195;&#8195;之前有过挖矿的童鞋都能有体会，就是要挖矿得先下载副本，而这个副本因为在你之前已经有很多数据了，所以你要开始你得挖矿的前提是你要花很大部分时间在同步数据上。但是 全网的数据增长速度那么快，而你的电脑存储空间不可能也按照这种频率来升级呀。所以就有童鞋提出了 IPFS的概念。维基解释：[星际文件系统（InterPlanetary File System，缩写IPFS）](https://zh.wikipedia.org/wiki/%E6%98%9F%E9%99%85%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F)。他是一种分布式存储，然后通过内容来进行搜索。所谓分布式，即全网的内容是分布在各个节点上的，由各个节点的存储一起来存储整体的数据。

&#8195;&#8195;有人会有疑问，类似与HDFS/FastDFS/TFS，是否需要一个地方来维护 “什么内容存储到哪儿了” 这样的元数据信息，这样就又会带来安全隐患以及理论上的存储上限。其实，IPFS 不仅是一个文件系统，它更是一套搜索协议，类似于今天的万维网，可根据具体内容来搜索。这个引入到初链中，我觉得是一种巨大的进步。

**总结**：乍一看上面说了那么多，而实际只讲了三个问题，这三个恰好是大众都会遇到的问题，初链帮我们提出了解决方案。其实白皮书里面还有其它一些我没注意到的思想等着我们去挖掘。挺欣赏白皮书的前两句话：
> 初链的使命是——打造一个公平透明的区块链商业世界。
> 初链的愿景是——成为影响百年的区块链基础设施。